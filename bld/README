models/lnd/clm/bld/README                              3/13/2008 

CLM build and configure directory and scripts. Scripts to help
you prepare to build CLM, actually build CLM and then help you
to run the model.

NOTE: THE MAIN BUILD/RUN SCRIPTS IN HERE ARE DEPRECATED 
      (USE THE CPL7 SCRIPTS IN "../../../../scripts" TO BUILD
       AN "I" COMPSET CASE INSTEAD)

Important files/directories:

--------- Configure and build scripts
--------- (These scripts are also used by the cpl7 scripts)

configure ---------------- Configure script -- creates Makefile and files needed to build CLM
  ----- configure --help - Configure help mode -- sends information on all configure options
config_files/Makefile.in ------------- Base Makefile for building CLM
config_files/config_defaults.xml ----- XML file of defaults for CLM
config_files/config_sys_defaults.xml - XML file of system defaults

---------- Scripts to figure out dependencies between source files (used by Makefile)
mkDepends
mkSrcfiles

--------- Scripts to build the namelists
--------- (These scripts are also used by the cpl7 scripts)
build-namelist --- Build the namelists needed

--------- CPL7 Script to create namelist and clm library
clm.cpl7.template ------- Script used by CPL7 scripts to create namelist

--------- Scripts to query namelist defaults
listDefaultNamelist.pl -- List the files needed for a list of resolutions 
                          that are NOT available
queryDefaultNamelist.pl - Query default namelist for variables
queryDefaultXML.pm ------ Subroutines needed by queryDefaultNamelist.pl script
urban_input ------------- Input files used by the urban model for 
                          single-point cases

---------- XML Files describing namelists in namelist_files
datm.streams.template.xml -- Template describing streams for datm7
namelist_defaults_clm.xml -- List of default values for all namelists needed
namelist_definition.xml ---- Definition of all namelist items
namelist_definition.xsl ---- Describes how to view the xml file as html
streams.txt.readme --------- Header info on streams file added to streams created
use_cases ------------------ Specific configurations that build-namelist uses


---------- Script to create a new case directory and run-script
---------- THIS SCRIPT IS DEPRECATED BY THE CPL7 SCRIPTS
create_newcase
---------- Scripts to configure, build and run on various platforms
---------- THESE SCRIPTS ARE DEPRECATED BY THE CPL7 SCRIPTS
run-ibm.csh -------- for IBM SP machines such as bluefire

NOTE:  To use the run-scripts you HAVE to set the following:

o Project number for Batch script.
o Setting of clmroot to full path of the root to your clm directory.

NOTE2: On non-NCAR machines you will also have to do the following.

o Convert batch notation to the syntax for the specific machine you are using.
o Set INC_NETCDF and LIB_NETCDF to include and library path for NetCDF.
o Set CSMDATA to the path of where you place your input data.
o Set datm_data_dir to the path of where the datm7 CLMNCEP data is.
o On non-supported platforms, you will also have to extend the configure and Makefile.in files.

